\hypertarget{classMicromouse}{}\doxysection{Micromouse Class Reference}
\label{classMicromouse}\index{Micromouse@{Micromouse}}


The \mbox{\hyperlink{classMicromouse}{Micromouse}} thread class. This class communicates with \mbox{\hyperlink{classMainWindow}{Main\+Window}} by signals, can send move and rotation command to the robot. Is used for controlling the robot in \mbox{\hyperlink{classMaze}{Maze}} class instance.  




{\ttfamily \#include $<$micromouse.\+h$>$}



Inheritance diagram for Micromouse\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=178pt]{classMicromouse__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Micromouse\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classMicromouse__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classMicromouse_a380f12aca4d8898c5356e9b0871abf94}\label{classMicromouse_a380f12aca4d8898c5356e9b0871abf94}} 
void \mbox{\hyperlink{classMicromouse_a380f12aca4d8898c5356e9b0871abf94}{Log\+Sig}} (Q\+String)
\begin{DoxyCompactList}\small\item\em This slot is connetced to S\+L\+OT(\mbox{\hyperlink{}{Log\+Slot(\+Q\+String)}}) in \mbox{\hyperlink{classMainWindow}{Main\+Window}}. Sends Q\+String and to append to t\+E\+\_\+\+Mic\+Log Q\+Text\+Edit. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_a5d23b80b19b286664e99b63304bdf188}\label{classMicromouse_a5d23b80b19b286664e99b63304bdf188}} 
void \mbox{\hyperlink{classMicromouse_a5d23b80b19b286664e99b63304bdf188}{Prepare\+For\+Move\+Sig}} ()
\begin{DoxyCompactList}\small\item\em Is connected to S\+L\+OT(\mbox{\hyperlink{}{Prepare\+For\+Move\+Slot()}}) in \mbox{\hyperlink{classMainWindow}{Main\+Window}}. Changes charts data type to distance. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_aa40b8c970781fe2596ac24f3b6d65f23}\label{classMicromouse_aa40b8c970781fe2596ac24f3b6d65f23}} 
void \mbox{\hyperlink{classMicromouse_aa40b8c970781fe2596ac24f3b6d65f23}{Prepare\+For\+Rotation\+Sig}} ()
\begin{DoxyCompactList}\small\item\em Is connected to S\+L\+OT(\mbox{\hyperlink{}{Prepare\+For\+Rotation\+Slot()}}) in \mbox{\hyperlink{classMainWindow}{Main\+Window}}. Changes charts data type to velocity. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_ac4888aa4ef831c01e14c5d03531c31fb}\label{classMicromouse_ac4888aa4ef831c01e14c5d03531c31fb}} 
void \mbox{\hyperlink{classMicromouse_ac4888aa4ef831c01e14c5d03531c31fb}{Send\+Function\+Sig}} (Q\+Byte\+Array)
\begin{DoxyCompactList}\small\item\em This signal is connected to S\+L\+OT(\mbox{\hyperlink{}{Send\+Function\+Slot(\+Q\+Byte\+Array)}}) in \mbox{\hyperlink{classMainWindow}{Main\+Window}}. Just sends commands to the robot. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_a366a965403e5366e30283c3972773b5b}\label{classMicromouse_a366a965403e5366e30283c3972773b5b}} 
void \mbox{\hyperlink{classMicromouse_a366a965403e5366e30283c3972773b5b}{Update\+Maze\+Sig}} ()
\begin{DoxyCompactList}\small\item\em This signal is connected to S\+L\+OT(\mbox{\hyperlink{}{Update\+Maze\+Slot()}}) in \mbox{\hyperlink{classMainWindow}{Main\+Window}}. Just calls repaint event to w\+\_\+\+Maze Q\+Widget, use this function if something has changed in \mbox{\hyperlink{classMaze}{Maze}} instance. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classMicromouse_aff4965481ec5fa15e5d653bbfe385b0b}{Function\+Return}} (short val)
\begin{DoxyCompactList}\small\item\em When \mbox{\hyperlink{classMainWindow}{Main\+Window}} gets return value from the robot just calls this function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMicromouse_a0f42f7b8a3c40da7e0e86be76dacf5f6}{Init}} (\mbox{\hyperlink{classMaze}{Maze}} $\ast$maze, \mbox{\hyperlink{classAccelGyro}{Accel\+Gyro}} $\ast$ag)
\begin{DoxyCompactList}\small\item\em Gets pointer to \mbox{\hyperlink{classMaze}{Maze}} and \mbox{\hyperlink{classAccelGyro}{Accel\+Gyro}} instance from \mbox{\hyperlink{classMainWindow}{Main\+Window}}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_ac26c207dc057c56774db79e91d6dfa43}\label{classMicromouse_ac26c207dc057c56774db79e91d6dfa43}} 
{\bfseries Micromouse} (Q\+Object $\ast$parent=0)
\item 
\mbox{\Hypertarget{classMicromouse_a5104565b3e09b3624f7e6136f2304f3f}\label{classMicromouse_a5104565b3e09b3624f7e6136f2304f3f}} 
void \mbox{\hyperlink{classMicromouse_a5104565b3e09b3624f7e6136f2304f3f}{run}} () override
\begin{DoxyCompactList}\small\item\em main thread loop. Simple algorithm gets current distance and rotation to next path cell and simple sends command to the robot. This function continuously check if Is\+Running is true to execute algorithm. If you set Is\+Running to false this function will break the loop, all informations are saved and you can start micromouse thread again. For better results of reaching to the target, improve this function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMicromouse_a92c4c7eb59e46a8ab252441ba775c3c1}{Setup}} (short Mstart, short Mmax, short accel, short stop, short Rstart, short Rmax)
\begin{DoxyCompactList}\small\item\em Initalize algorithm settings. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_a70be1967c291e86b87372fb654258001}\label{classMicromouse_a70be1967c291e86b87372fb654258001}} 
void \mbox{\hyperlink{classMicromouse_a70be1967c291e86b87372fb654258001}{Stop}} ()
\begin{DoxyCompactList}\small\item\em Sets Is\+Running to false. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
short \mbox{\hyperlink{classMicromouse_a3530504ddc23e5f33543867f8ac9538b}{Move}} (short dist\+\_\+cm)
\begin{DoxyCompactList}\small\item\em Sends to the robot move command by calling \mbox{\hyperlink{classMicromouse_ac4888aa4ef831c01e14c5d03531c31fb}{Send\+Function\+Sig}}, Function wil repeat command untill ralue will retunr from the robot, 6 sec timeout. \end{DoxyCompactList}\item 
short \mbox{\hyperlink{classMicromouse_a3d576b7701bc98c1aa6931cd521b164b}{Rotate}} (short deg\+\_\+deg)
\begin{DoxyCompactList}\small\item\em Sends to the robot rotation command by calling \mbox{\hyperlink{classMicromouse_ac4888aa4ef831c01e14c5d03531c31fb}{Send\+Function\+Sig}}, Function wil repeat command untill ralue will retunr from the robot, 6 sec timeout. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classMicromouse_aa9b9b56700a16b68f6c2993980acc679}\label{classMicromouse_aa9b9b56700a16b68f6c2993980acc679}} 
double \mbox{\hyperlink{classMicromouse_aa9b9b56700a16b68f6c2993980acc679}{Accel\+Scale}} = (9.\+80665$\ast$2.\+0)/32768.\+0
\begin{DoxyCompactList}\small\item\em Scale factor from meters in range +-\/10000cm to binary walue (signed short). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_a7ff56577d4f1e39692074e02a621215b}\label{classMicromouse_a7ff56577d4f1e39692074e02a621215b}} 
short \mbox{\hyperlink{classMicromouse_a7ff56577d4f1e39692074e02a621215b}{Accel\+Val}}
\begin{DoxyCompactList}\small\item\em Stores acceleration P\+WM value for move command. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_acaf55e7b8912d2a169924b049e9a68cd}\label{classMicromouse_acaf55e7b8912d2a169924b049e9a68cd}} 
bool \mbox{\hyperlink{classMicromouse_acaf55e7b8912d2a169924b049e9a68cd}{Function\+Reurned}} = false
\begin{DoxyCompactList}\small\item\em When true, it tells that the robot have executed task and return a value to read. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_ad92f0525c09e19425a753f81b00258e6}\label{classMicromouse_ad92f0525c09e19425a753f81b00258e6}} 
double \mbox{\hyperlink{classMicromouse_ad92f0525c09e19425a753f81b00258e6}{Gyro\+Scale}} = 500.\+0/32768.\+0
\begin{DoxyCompactList}\small\item\em Scale factor from deegres in range +-\/500deg to binary walue (signed short). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_a2b061bd28fb66cb6ddc0e5956f7cf6e3}\label{classMicromouse_a2b061bd28fb66cb6ddc0e5956f7cf6e3}} 
bool \mbox{\hyperlink{classMicromouse_a2b061bd28fb66cb6ddc0e5956f7cf6e3}{Is\+Running}}
\begin{DoxyCompactList}\small\item\em When true, enables main loop, otherwise disables. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_afb4497967cecb8128117b25be7926909}\label{classMicromouse_afb4497967cecb8128117b25be7926909}} 
short \mbox{\hyperlink{classMicromouse_afb4497967cecb8128117b25be7926909}{Move\+Max\+Val}}
\begin{DoxyCompactList}\small\item\em Stores maximum P\+WM value for move command. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_af030bde295ba49b5550dfc6b7efb3e28}\label{classMicromouse_af030bde295ba49b5550dfc6b7efb3e28}} 
short \mbox{\hyperlink{classMicromouse_af030bde295ba49b5550dfc6b7efb3e28}{Move\+Start\+Val}}
\begin{DoxyCompactList}\small\item\em Stores start P\+WM value for move command. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_a0c194eed25ad8c7015e237f2c177f04c}\label{classMicromouse_a0c194eed25ad8c7015e237f2c177f04c}} 
\mbox{\hyperlink{classAccelGyro}{Accel\+Gyro}} $\ast$ \mbox{\hyperlink{classMicromouse_a0c194eed25ad8c7015e237f2c177f04c}{My\+Ag}}
\begin{DoxyCompactList}\small\item\em Pointer to instance of \mbox{\hyperlink{classAccelGyro}{Accel\+Gyro}} in \mbox{\hyperlink{classMainWindow}{Main\+Window}}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_a29ba624bffc1139916cd2be3f8d647ad}\label{classMicromouse_a29ba624bffc1139916cd2be3f8d647ad}} 
\mbox{\hyperlink{classMaze}{Maze}} $\ast$ \mbox{\hyperlink{classMicromouse_a29ba624bffc1139916cd2be3f8d647ad}{My\+Maze}}
\begin{DoxyCompactList}\small\item\em Pointer to instance of \mbox{\hyperlink{classMaze}{Maze}} in \mbox{\hyperlink{classMainWindow}{Main\+Window}}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_a95437b4240a0e921fd057b7506698df1}\label{classMicromouse_a95437b4240a0e921fd057b7506698df1}} 
short \mbox{\hyperlink{classMicromouse_a95437b4240a0e921fd057b7506698df1}{Rot\+Max\+Val}}
\begin{DoxyCompactList}\small\item\em Stores maximum P\+WM value for rotation command. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_a95085e2daffe3bcd34cae3a9b1ac66f0}\label{classMicromouse_a95085e2daffe3bcd34cae3a9b1ac66f0}} 
short \mbox{\hyperlink{classMicromouse_a95085e2daffe3bcd34cae3a9b1ac66f0}{Rot\+Start\+Val}}
\begin{DoxyCompactList}\small\item\em Stores start P\+WM value for rotation command. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_a2fb56e1f51a4ec3ae19f2b894e984cdc}\label{classMicromouse_a2fb56e1f51a4ec3ae19f2b894e984cdc}} 
short \mbox{\hyperlink{classMicromouse_a2fb56e1f51a4ec3ae19f2b894e984cdc}{Stop\+Val}}
\begin{DoxyCompactList}\small\item\em Stores stop value in meters for move command. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMicromouse_aee10d33653644c2749f2b1b39c4510f2}\label{classMicromouse_aee10d33653644c2749f2b1b39c4510f2}} 
short \mbox{\hyperlink{classMicromouse_aee10d33653644c2749f2b1b39c4510f2}{Value}}
\begin{DoxyCompactList}\small\item\em Returned value od the robot . \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The \mbox{\hyperlink{classMicromouse}{Micromouse}} thread class. This class communicates with \mbox{\hyperlink{classMainWindow}{Main\+Window}} by signals, can send move and rotation command to the robot. Is used for controlling the robot in \mbox{\hyperlink{classMaze}{Maze}} class instance. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classMicromouse_aff4965481ec5fa15e5d653bbfe385b0b}\label{classMicromouse_aff4965481ec5fa15e5d653bbfe385b0b}} 
\index{Micromouse@{Micromouse}!FunctionReturn@{FunctionReturn}}
\index{FunctionReturn@{FunctionReturn}!Micromouse@{Micromouse}}
\doxysubsubsection{\texorpdfstring{FunctionReturn()}{FunctionReturn()}}
{\footnotesize\ttfamily void Micromouse\+::\+Function\+Return (\begin{DoxyParamCaption}\item[{short}]{val }\end{DoxyParamCaption})}



When \mbox{\hyperlink{classMainWindow}{Main\+Window}} gets return value from the robot just calls this function. 


\begin{DoxyParams}{Parameters}
{\em returned} & vale from robot. \\
\hline
\end{DoxyParams}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classMicromouse_aff4965481ec5fa15e5d653bbfe385b0b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classMicromouse_a0f42f7b8a3c40da7e0e86be76dacf5f6}\label{classMicromouse_a0f42f7b8a3c40da7e0e86be76dacf5f6}} 
\index{Micromouse@{Micromouse}!Init@{Init}}
\index{Init@{Init}!Micromouse@{Micromouse}}
\doxysubsubsection{\texorpdfstring{Init()}{Init()}}
{\footnotesize\ttfamily void Micromouse\+::\+Init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaze}{Maze}} $\ast$}]{maze,  }\item[{\mbox{\hyperlink{classAccelGyro}{Accel\+Gyro}} $\ast$}]{ag }\end{DoxyParamCaption})}



Gets pointer to \mbox{\hyperlink{classMaze}{Maze}} and \mbox{\hyperlink{classAccelGyro}{Accel\+Gyro}} instance from \mbox{\hyperlink{classMainWindow}{Main\+Window}}. 


\begin{DoxyParams}{Parameters}
{\em } & \\
\hline
\end{DoxyParams}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=332pt]{classMicromouse_a0f42f7b8a3c40da7e0e86be76dacf5f6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classMicromouse_a3530504ddc23e5f33543867f8ac9538b}\label{classMicromouse_a3530504ddc23e5f33543867f8ac9538b}} 
\index{Micromouse@{Micromouse}!Move@{Move}}
\index{Move@{Move}!Micromouse@{Micromouse}}
\doxysubsubsection{\texorpdfstring{Move()}{Move()}}
{\footnotesize\ttfamily short Micromouse\+::\+Move (\begin{DoxyParamCaption}\item[{short}]{dist\+\_\+cm }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Sends to the robot move command by calling \mbox{\hyperlink{classMicromouse_ac4888aa4ef831c01e14c5d03531c31fb}{Send\+Function\+Sig}}, Function wil repeat command untill ralue will retunr from the robot, 6 sec timeout. 


\begin{DoxyParams}{Parameters}
{\em distance} & value, range is +-\/1000 cm. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
traveled distance by the robot, same range. 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{classMicromouse_a3530504ddc23e5f33543867f8ac9538b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classMicromouse_a3d576b7701bc98c1aa6931cd521b164b}\label{classMicromouse_a3d576b7701bc98c1aa6931cd521b164b}} 
\index{Micromouse@{Micromouse}!Rotate@{Rotate}}
\index{Rotate@{Rotate}!Micromouse@{Micromouse}}
\doxysubsubsection{\texorpdfstring{Rotate()}{Rotate()}}
{\footnotesize\ttfamily short Micromouse\+::\+Rotate (\begin{DoxyParamCaption}\item[{short}]{deg\+\_\+deg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Sends to the robot rotation command by calling \mbox{\hyperlink{classMicromouse_ac4888aa4ef831c01e14c5d03531c31fb}{Send\+Function\+Sig}}, Function wil repeat command untill ralue will retunr from the robot, 6 sec timeout. 


\begin{DoxyParams}{Parameters}
{\em deegres} & value, range is +-\/500 deg. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
rotated degrees by the robot, same range. Better to ignore this value. 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{classMicromouse_a3d576b7701bc98c1aa6931cd521b164b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classMicromouse_a92c4c7eb59e46a8ab252441ba775c3c1}\label{classMicromouse_a92c4c7eb59e46a8ab252441ba775c3c1}} 
\index{Micromouse@{Micromouse}!Setup@{Setup}}
\index{Setup@{Setup}!Micromouse@{Micromouse}}
\doxysubsubsection{\texorpdfstring{Setup()}{Setup()}}
{\footnotesize\ttfamily void Micromouse\+::\+Setup (\begin{DoxyParamCaption}\item[{short}]{Mstart,  }\item[{short}]{Mmax,  }\item[{short}]{accel,  }\item[{short}]{stop,  }\item[{short}]{Rstart,  }\item[{short}]{Rmax }\end{DoxyParamCaption})}



Initalize algorithm settings. 


\begin{DoxyParams}{Parameters}
{\em Move} & start P\+WM value \\
\hline
{\em Move} & maximum P\+WM value \\
\hline
{\em Acceleration} & P\+WM value \\
\hline
{\em Acceleration} & stop condition in meters per second squared \\
\hline
{\em Rotation} & start P\+WM value \\
\hline
{\em Rotation} & maximum P\+WM value \\
\hline
\end{DoxyParams}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{classMicromouse_a92c4c7eb59e46a8ab252441ba775c3c1_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
micromouse.\+h\item 
micromouse.\+cpp\end{DoxyCompactItemize}
